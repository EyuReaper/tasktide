{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\n// Mock data for Kanban tasks\nconst mockTasks = {\n  todo: [{\n    id: '1',\n    title: 'Task 1 - High Priority',\n    status: 'todo'\n  }, {\n    id: '2',\n    title: 'Task 2 - Low Priority',\n    status: 'todo'\n  }],\n  inProgress: [{\n    id: '3',\n    title: 'Task 3 - Medium Priority',\n    status: 'inProgress'\n  }],\n  underReview: [{\n    id: '4',\n    title: 'Task 4 - Medium Priority',\n    status: 'underReview'\n  }],\n  done: [{\n    id: '5',\n    title: 'Task 5 - Low Priority',\n    status: 'done'\n  }]\n};\nlet currentTasks = JSON.parse(JSON.stringify(mockTasks)); // Deep copy for mutable state\n\nexport const kanbanApi = createApi({\n  reducerPath: 'kanbanApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: '/'\n  }),\n  // Base URL is not used for mock, but required\n  tagTypes: ['Tasks'],\n  endpoints: builder => ({\n    getTasks: builder.query({\n      queryFn: () => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            resolve({\n              data: currentTasks\n            });\n          }, 500); // Simulate network delay\n        });\n      },\n      providesTags: ['Tasks']\n    }),\n    updateTaskStatus: builder.mutation({\n      queryFn: ({\n        taskId,\n        newStatus,\n        oldStatus\n      }) => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const taskToMove = currentTasks[oldStatus].find(task => task.id === taskId);\n            if (taskToMove) {\n              // Remove from old status\n              currentTasks[oldStatus] = currentTasks[oldStatus].filter(task => task.id !== taskId);\n              // Add to new status\n              currentTasks[newStatus].push({\n                ...taskToMove,\n                status: newStatus\n              });\n              resolve({\n                data: currentTasks\n              });\n            } else {\n              resolve({\n                error: 'Task not found'\n              });\n            }\n          }, 300); // Simulate network delay\n        });\n      },\n      invalidatesTags: ['Tasks']\n    })\n  })\n});\nexport const {\n  useGetTasksQuery,\n  useUpdateTaskStatusMutation\n} = kanbanApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","mockTasks","todo","id","title","status","inProgress","underReview","done","currentTasks","JSON","parse","stringify","kanbanApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getTasks","query","queryFn","Promise","resolve","setTimeout","data","providesTags","updateTaskStatus","mutation","taskId","newStatus","oldStatus","taskToMove","find","task","filter","push","error","invalidatesTags","useGetTasksQuery","useUpdateTaskStatusMutation"],"sources":["/home/eyug/tasktide/frontend/src/services/kanbanApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\n// Mock data for Kanban tasks\nconst mockTasks = {\n  todo: [\n    { id: '1', title: 'Task 1 - High Priority', status: 'todo' },\n    { id: '2', title: 'Task 2 - Low Priority', status: 'todo' },\n  ],\n  inProgress: [\n    { id: '3', title: 'Task 3 - Medium Priority', status: 'inProgress' },\n  ],\n  underReview: [\n    { id: '4', title: 'Task 4 - Medium Priority', status: 'underReview' },\n  ],\n  done: [\n    { id: '5', title: 'Task 5 - Low Priority', status: 'done' },\n  ],\n};\n\nlet currentTasks = JSON.parse(JSON.stringify(mockTasks)); // Deep copy for mutable state\n\nexport const kanbanApi = createApi({\n  reducerPath: 'kanbanApi',\n  baseQuery: fetchBaseQuery({ baseUrl: '/' }), // Base URL is not used for mock, but required\n  tagTypes: ['Tasks'],\n  endpoints: (builder) => ({\n    getTasks: builder.query({\n      queryFn: () => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            resolve({ data: currentTasks });\n          }, 500); // Simulate network delay\n        });\n      },\n      providesTags: ['Tasks'],\n    }),\n    updateTaskStatus: builder.mutation({\n      queryFn: ({ taskId, newStatus, oldStatus }) => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const taskToMove = currentTasks[oldStatus].find(task => task.id === taskId);\n            if (taskToMove) {\n              // Remove from old status\n              currentTasks[oldStatus] = currentTasks[oldStatus].filter(task => task.id !== taskId);\n              // Add to new status\n              currentTasks[newStatus].push({ ...taskToMove, status: newStatus });\n              resolve({ data: currentTasks });\n            } else {\n              resolve({ error: 'Task not found' });\n            }\n          }, 300); // Simulate network delay\n        });\n      },\n      invalidatesTags: ['Tasks'],\n    }),\n  }),\n});\n\nexport const { useGetTasksQuery, useUpdateTaskStatusMutation } = kanbanApi;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;;AAExE;AACA,MAAMC,SAAS,GAAG;EAChBC,IAAI,EAAE,CACJ;IAAEC,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,wBAAwB;IAAEC,MAAM,EAAE;EAAO,CAAC,EAC5D;IAAEF,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,uBAAuB;IAAEC,MAAM,EAAE;EAAO,CAAC,CAC5D;EACDC,UAAU,EAAE,CACV;IAAEH,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,0BAA0B;IAAEC,MAAM,EAAE;EAAa,CAAC,CACrE;EACDE,WAAW,EAAE,CACX;IAAEJ,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,0BAA0B;IAAEC,MAAM,EAAE;EAAc,CAAC,CACtE;EACDG,IAAI,EAAE,CACJ;IAAEL,EAAE,EAAE,GAAG;IAAEC,KAAK,EAAE,uBAAuB;IAAEC,MAAM,EAAE;EAAO,CAAC;AAE/D,CAAC;AAED,IAAII,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACX,SAAS,CAAC,CAAC,CAAC,CAAC;;AAE1D,OAAO,MAAMY,SAAS,GAAGd,SAAS,CAAC;EACjCe,WAAW,EAAE,WAAW;EACxBC,SAAS,EAAEf,cAAc,CAAC;IAAEgB,OAAO,EAAE;EAAI,CAAC,CAAC;EAAE;EAC7CC,QAAQ,EAAE,CAAC,OAAO,CAAC;EACnBC,SAAS,EAAGC,OAAO,KAAM;IACvBC,QAAQ,EAAED,OAAO,CAACE,KAAK,CAAC;MACtBC,OAAO,EAAEA,CAAA,KAAM;QACb,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;UAC5BC,UAAU,CAAC,MAAM;YACfD,OAAO,CAAC;cAAEE,IAAI,EAAEjB;YAAa,CAAC,CAAC;UACjC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACX,CAAC,CAAC;MACJ,CAAC;MACDkB,YAAY,EAAE,CAAC,OAAO;IACxB,CAAC,CAAC;IACFC,gBAAgB,EAAET,OAAO,CAACU,QAAQ,CAAC;MACjCP,OAAO,EAAEA,CAAC;QAAEQ,MAAM;QAAEC,SAAS;QAAEC;MAAU,CAAC,KAAK;QAC7C,OAAO,IAAIT,OAAO,CAACC,OAAO,IAAI;UAC5BC,UAAU,CAAC,MAAM;YACf,MAAMQ,UAAU,GAAGxB,YAAY,CAACuB,SAAS,CAAC,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAChC,EAAE,KAAK2B,MAAM,CAAC;YAC3E,IAAIG,UAAU,EAAE;cACd;cACAxB,YAAY,CAACuB,SAAS,CAAC,GAAGvB,YAAY,CAACuB,SAAS,CAAC,CAACI,MAAM,CAACD,IAAI,IAAIA,IAAI,CAAChC,EAAE,KAAK2B,MAAM,CAAC;cACpF;cACArB,YAAY,CAACsB,SAAS,CAAC,CAACM,IAAI,CAAC;gBAAE,GAAGJ,UAAU;gBAAE5B,MAAM,EAAE0B;cAAU,CAAC,CAAC;cAClEP,OAAO,CAAC;gBAAEE,IAAI,EAAEjB;cAAa,CAAC,CAAC;YACjC,CAAC,MAAM;cACLe,OAAO,CAAC;gBAAEc,KAAK,EAAE;cAAiB,CAAC,CAAC;YACtC;UACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;QACX,CAAC,CAAC;MACJ,CAAC;MACDC,eAAe,EAAE,CAAC,OAAO;IAC3B,CAAC;EACH,CAAC;AACH,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEC,gBAAgB;EAAEC;AAA4B,CAAC,GAAG5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}