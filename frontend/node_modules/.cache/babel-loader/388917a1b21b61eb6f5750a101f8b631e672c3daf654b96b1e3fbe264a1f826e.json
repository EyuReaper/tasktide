{"ast":null,"code":"var _jsxFileName = \"/home/eyug/tasktide/frontend/src/pages/Kanban.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useGetTasksQuery, useUpdateTaskStatusMutation } from \"../services/kanbanApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Kanban = () => {\n  _s();\n  const {\n    data: tasks,\n    error,\n    isLoading\n  } = useGetTasksQuery();\n  const [updateTaskStatus] = useUpdateTaskStatusMutation();\n  const onDragEnd = result => {\n    const {\n      destination,\n      source,\n      draggableId\n    } = result;\n    if (!destination) {\n      return;\n    }\n    if (destination.droppableId === source.droppableId && destination.index === source.index) {\n      return;\n    }\n    const startStatus = source.droppableId;\n    const finishStatus = destination.droppableId;\n    if (startStatus === finishStatus) {\n      // Reordering within the same column (not implemented in mock API yet, but good to keep structure)\n      // For now, we only handle status change\n    } else {\n      updateTaskStatus({\n        taskId: draggableId,\n        newStatus: finishStatus,\n        oldStatus: startStatus\n      });\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 text-center\",\n      children: \"Loading tasks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 text-center text-error\",\n      children: \"Error loading tasks.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(DragDropContext, {\n    onDragEnd: onDragEnd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Kanban Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-4\",\n        children: Object.entries(tasks).map(([category, taskList]) => /*#__PURE__*/_jsxDEV(Droppable, {\n          droppableId: category,\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            className: \"border rounded-lg p-4 bg-gray-100 min-h-[200px]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-2 capitalize\",\n              children: category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [taskList.map((task, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n                draggableId: task.id,\n                index: index,\n                children: provided => /*#__PURE__*/_jsxDEV(\"li\", {\n                  ref: provided.innerRef,\n                  ...provided.draggableProps,\n                  ...provided.dragHandleProps,\n                  className: \"mb-2 p-2 bg-white rounded shadow cursor-grab\",\n                  children: task.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 27\n                }, this)\n              }, task.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 23\n              }, this)), provided.placeholder]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)\n        }, category, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(Kanban, \"0o3HYRav5eW9eX2GOkjxrSF4e1U=\", false, function () {\n  return [useGetTasksQuery, useUpdateTaskStatusMutation];\n});\n_c = Kanban;\nexport default Kanban;\nvar _c;\n$RefreshReg$(_c, \"Kanban\");","map":{"version":3,"names":["React","DragDropContext","Droppable","Draggable","useGetTasksQuery","useUpdateTaskStatusMutation","jsxDEV","_jsxDEV","Kanban","_s","data","tasks","error","isLoading","updateTaskStatus","onDragEnd","result","destination","source","draggableId","droppableId","index","startStatus","finishStatus","taskId","newStatus","oldStatus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","map","category","taskList","provided","droppableProps","ref","innerRef","task","id","draggableProps","dragHandleProps","title","placeholder","_c","$RefreshReg$"],"sources":["/home/eyug/tasktide/frontend/src/pages/Kanban.jsx"],"sourcesContent":["import React from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useGetTasksQuery, useUpdateTaskStatusMutation } from \"../services/kanbanApi\";\n\nconst Kanban = () => {\n  const { data: tasks, error, isLoading } = useGetTasksQuery();\n  const [updateTaskStatus] = useUpdateTaskStatusMutation();\n\n  const onDragEnd = (result) => {\n    const { destination, source, draggableId } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const startStatus = source.droppableId;\n    const finishStatus = destination.droppableId;\n\n    if (startStatus === finishStatus) {\n      // Reordering within the same column (not implemented in mock API yet, but good to keep structure)\n      // For now, we only handle status change\n    } else {\n      updateTaskStatus({\n        taskId: draggableId,\n        newStatus: finishStatus,\n        oldStatus: startStatus,\n      });\n    }\n  };\n\n  if (isLoading) {\n    return <div className=\"p-4 text-center\">Loading tasks...</div>;\n  }\n\n  if (error) {\n    return <div className=\"p-4 text-center text-error\">Error loading tasks.</div>;\n  }\n\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <div className=\"p-4\">\n        <h1 className=\"text-2xl font-bold mb-4\">Kanban Board</h1>\n        <div className=\"grid grid-cols-4 gap-4\">\n          {Object.entries(tasks).map(([category, taskList]) => (\n            <Droppable droppableId={category} key={category}>\n              {(provided) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  className=\"border rounded-lg p-4 bg-gray-100 min-h-[200px]\"\n                >\n                  <h2 className=\"text-xl font-semibold mb-2 capitalize\">\n                    {category}\n                  </h2>\n                  <ul>\n                    {taskList.map((task, index) => (\n                      <Draggable key={task.id} draggableId={task.id} index={index}>\n                        {(provided) => (\n                          <li\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            className=\"mb-2 p-2 bg-white rounded shadow cursor-grab\"\n                          >\n                            {task.title}\n                          </li>\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </ul>\n                </div>\n              )}\n            </Droppable>\n          ))}\n        </div>\n      </div>\n    </DragDropContext>\n  );\n};\n\nexport default Kanban;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}